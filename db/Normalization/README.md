# 정규화
## 정규화(Normalization)란?
##### 정규화는 테이블의 속성들이 상호 종속적인 관계를 갖는 특성을 이용하여 테이블을 무손실 분해하는 과정이다.
###### 무손실이란 특정 테이블(R)을 PROJECT한 결과 두 개의 테이블(R1,R2)가 자연 조인(NATURAL JOIN)을 통해 원래 테이블(R)로 정보의 손실 없이 복귀되는 경우.
##### 정규화의 목적은 가능한 한 `중복을 제거해 삽입, 삭제, 갱신 이상(Abnormal)의 발생` 가능성을 줄이는 것이다.

  
##### 정규화에는 1정규형(`1NF;First Normal Form`), 2정규형(`2NF;Second Normal Form`), 3정규형(`3NF;Third Normal Form`), BCNF(`Boyce-Codd Normal Form`), 4정규형(`4NF;Fourth Normal Form`), 5정규형(`5NF;Fifth Normal Form`)이 있다.

## 정규화 과정
##### 지금 부터 예를 들어서 설명하겠다. 아래의 `주문 목록` 테이블을 가지고 정규화를 해보자. 기본키는 제품번호이다.

####<주문 목록>
| __제품번호__ | 제품명 | 재고수량 | 주문 번호 | 고객번호 | 주소 | 주문수량|
| --- | --- | --- | --- | --- | --- | --- |
| 1001 | 모니터 | 2000 | A345<br> D347 | 100<br> 200 | 서울<br> 부산 | 150<br> 300 |
| 1007 | 마우스 | 9000 | A210<br> A345<br> B230 | 300<br> 100<br> 200 | 광주<br> 서울<br> 부산 | 600<br> 400<br> 700 |
| 1201 | 키보드 | 2100 | D347 | 200 | 부산 | 300 |

- 제 1정규형
 * 제 1정규형은 테이블 R에 속한 모든 속성의 도메인(Domain)이 원자 값(Atomic Value)만으로 되어있는 정규형이다. 즉 테이블의 모든 속성 값이 원자 값으로만 되어 있는 정규형이다.
 * <주문 목록> 테이블에서 하나의 제품에 대해 여러 개의 주문 관련 정보(주문번호, 고객번호, 주소, 주문수량; 2~3개씩)가 발생하고 있다. 따라서 <주문 목록> 테이블은 `제 1정규형`이 아니다.
####`예제`
#####<주문 목록> 테이블에서 반복되는 주문 관련 정보를 분리하여 제 1정규형으로 만드시오.
####<주문 목록>
| __제품번호__ | 제품명 | 재고수량 | 주문 번호 | 고객번호 | 주소 | 주문수량|
| --- | --- | --- | --- | --- | --- | --- |
| 1001 | 모니터 | 2000 | A345<br> D347 | 100<br> 200 | 서울<br> 부산 | 150<br> 300 |
| 1007 | 마우스 | 9000 | A210<br> A345<br> B230 | 300<br> 100<br> 200 | 광주<br> 서울<br> 부산 | 600<br> 400<br> 700 |
| 1201 | 키보드 | 2100 | D347 | 200 | 부산 | 300 |

####<제품>
| __제품번호__ | 제품명 | 재고수량 |
| --- | --- | --- |
| 1001 | 모니터 | 2000 |
| 1007 | 마우스 | 9000 |
| 1201 | 키보드 | 2100 |

####<제품 주문>
| __주문번호__ | __제품번호__ | 고객번호 | 주소 | 주문수량 |
| --- | --- | --- | --- | --- |
| A345 | 1001 | 100 | 서울 | 150 |
| D347 | 1001 | 200 | 부산 | 300 |
| A210 | 1007 | 300 | 광주 | 600 |
| A345 | 1007 | 100 | 서울 | 400 |
| B230 | 1007 | 200 | 부산 | 700 |
| D347 | 1201 | 200 | 부산 | 300 |

####`해설`
##### <주문 목록> 테이블에서 반복되는 주문 관련 정보인 주문번호, 고객번호, 주소, 주문수량을 분리하면 위와 같이 제 1정규형인 <제품>테이블과 <제품 주문> 테이블이 만들어진다.
 * 1차 정규화 과정으로 생성된 <제품 주문> 테이블의 기본키는 `주문번호, 제품번호`이고, 다음과 같은 함수적 종속이 존재한다.
###### 함수적 종속이란 어떤 속성 X의 값 각각에 대해 시간에 관계없이 항상 속성 Y의 값이 오직 하나만 연관되어 있을 때 Y는 X에 함수적 종속 또는 X가 Y를 함수적으로 결정한다고 하고, X->Y로 표기한다.

 ```
    주문번호, 제품번호 -> 고객번호, 주소, 주문수량
              주문번호 -> 고객번호, 주소
              고객번호 -> 주소
```



