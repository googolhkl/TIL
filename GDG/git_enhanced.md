# Git/Github 더 잘쓰기

## 1. commit
### 커밋 규칙
- 하나의 커밋에는 하나의 기능을 추가한다. (잠수함 패치 금지)
- 커밋 메시지를 잘 남겨야 한다. (`"이 커밋에서는 어떤게 어떻게 바꼈다"`를 기록. `"~파일이 이렇게 바꼈다"`보다 `"이래서 이렇게 구현했다"`를 기록하자. 아래는 커밋 메시지의 작성 예다.
```
Tag : topic sentence(50문자 이내로)
(한줄 비우고)
Body... (72문자 이내로)
```

- 모든 커밋은 컴파일, 빌드 되어야 한다.
- 자잘한 커밋들은 합치자(commit --amend, rebase -i, ...)

## 2. 브랜치
##### 브랜치는 커밋에서의 분기다.(가지 치기)

### 브랜치 규칙
- 이름을 잘 짓자
- 병합할 때 merge/rebase 를 사용한다. (장단점을 따져 팀원끼리 정한다)
- 기준이 되는 브랜치를 정하고, 건들지 말자

### 브랜치 병합
##### master에 topic을 병합하려면 merge/rebase 가필요하다.
##### 아래는 merge와 rebase의 장단점이다.

| | merge | rebase |
| --- | --- | --- |
| 장점 | 제일 대표적인 명령어다(이름 그대로)<br /> 제일 쉽고 간단하다<br /> merge는 master에 올릴 때 --no-ff옵션으로 머지커밋 최소 | 브랜치의 base자체를 바꾸는 명령어<br /> 커밋이 선형적(보기가 깔끔함)<br /> rebase -i로 최대한 깔끔하게 커밋 |
| 단점 | merge commit이 생겨 그래프 볼 때 족보가 복잡해짐 | 충돌시 처리가 어려움 |

## 3. test
##### 테스트는 유닛 테스트를 말한다.
##### 설계에 있어서 가장 작은 단위(함수,클래스)인 모듈이 잘 돌아가는지 테스트

### 특징
- 나중에 문제의 원일을 찾아 헤매는 일을 줄여준다.
- 모든 커밋은 무조건 테스트를 통과해야 한다.
- 귀찮은 점은 기능 하나를 구현할 때 마다 테스트 코드를 잘 작성해야 한다.
- UI는 테스트 케이스를 짜기 힘들다.
- 서버와 통신이 필요한 경우 서버가 내려가있으면.. 아무것도 못한다.

### 규칙
- 커밋할때 마다 테스트를 통과해야만 커밋할 수 있다.
- master등 주요 브랜치는 언제든 테스트 통과 가능하게 하자.

## 5. pull request(PR)
- `"내 코드를 받아줘~"` 내 작업물을 원본에 합쳐주길 제안. 저장소 주인이 마음대로 승인/거절
- 같은 저장소 안에서도 PR가능(`"내꺼 master에 적용해줘"`)
- 관리자 입장에서 소중한 나의 저장소에 이상한 사람의 코드가 끼어드는 것을 방지


## 7. 마지막으로
### 더 찾아볼 것
- 다른 사람 저장소 fork 해보기
- 더 전략적인 Git-flow 사용법
- Git LFS 플러그인(바이너리가 많을 때)
- rebase -i(interactive), commit -amend, cherry-pick등 커밋 조작 명령 익히기
- gTest등 각종 test도구 익히기
- Travis, Jenkins등의 CI도구 익히기
- HockeyApp, Testflight등의 배포도구 익히기 
